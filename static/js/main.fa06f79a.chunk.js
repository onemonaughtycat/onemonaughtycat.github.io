(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(9),o=n.n(i),c=(n(14),n(2)),s=n(3),u=n(7),l=n(5),h=n(4),p=(n(15),n(0)),d=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={selected:-1},r.handleClick=r.handleClick.bind(Object(u.a)(r)),r}return Object(s.a)(n,[{key:"handleClick",value:function(e){for(var t=0;t<e.target.parentNode.children.length;t++)e.target===e.target.parentNode.children[t]&&this.setState({selected:t});this.props.onItemClick(e.target.outerText)}},{key:"render",value:function(){var e=this,t=this.props.ids.map((function(t,n){var r="system-menu-item";return n===e.state.selected&&(r+=" selected"),Object(p.jsx)("li",{className:r,onClick:e.handleClick,children:t},n)}));return Object(p.jsx)("div",{className:"system-menu-wrapper",children:Object(p.jsx)("ul",{className:"system-menu-container",children:t})})}}]),n}(a.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)("h1",{children:"Hello, world!"})}}]),n}(a.a.Component),f=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)("blockquote",{children:"The quick brown fox jump over a lazy dog."})}}]),n}(a.a.Component),j={bomb:"\ud83d\udca3",mark:"\u2755",helper:"\u2754",exploded:"\ud83d\udca5"},O=(n(17),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleContextMenu=function(e){e.preventDefault()},e.handleMouseDown=function(t){e._buttons=t.buttons},e.handleMouseUp=function(t){if(e._buttons){switch(e._buttons){case 1:e.props.onLeftClick(e.props);break;case 2:e.props.onRightClick(e.props);break;case 3:e.props.onBothClick(e.props)}e._buttons=null}},e}return Object(s.a)(n,[{key:"render",value:function(){var e=["square"],t="";return this.props.isOpened?(e.push("opened"),this.props.withBomb&&(t=j.bomb),this.props.nearBombsCount&&(t=this.props.nearBombsCount,e.push("number"))):(this.props.isMarked&&(t=j.mark),this.props.isHelper&&(t=j.helper)),Object(p.jsx)("div",{className:e.join(" "),onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,children:t})}}]),n}(a.a.Component)),k=(n(18),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleLeftClick=function(t){e.props.onLeftClick(t)},e.handleRightClick=function(t){e.props.onRightClick(t)},e.handleBothClick=function(t){e.props.onBothClick(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"board",children:this.props.data.map((function(t,n){return Object(p.jsx)("div",{children:t.map((function(t,n){return Object(p.jsx)(O,{x:t.x,y:t.y,withBomb:t.withBomb,nearBombsCount:t.nearBombsCount,isOpened:t.isOpened,isMarked:t.isMarked,isHelper:t.isHelper,onLeftClick:e.handleLeftClick,onRightClick:e.handleRightClick,onBothClick:e.handleBothClick},n)}))},n)}))})}}]),n}(a.a.Component)),m=n(6),v=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"initBoard",value:function(e,t,n){for(var r=[],a=function(e,t){return r.filter((function(n){return n.x===e&&n.y===t})).length},i=0;i<n;i++){var o=Math.floor(Math.random()*e),c=Math.floor(Math.random()*t);a(o,c)?i--:r.push({x:o,y:c})}for(var s=[],u=0;u<t;u++)for(var l=0;l<e;l++)if(!a(l,u)){for(var h=0,p=-1;p<=1;p++)for(var d=-1;d<=1;d++)a(l-d,u-p)&&h++;h&&s.push({x:l,y:u,count:h})}return Array(t).fill().map((function(t,n){return Array(e).fill().map((function(e,t){var r=s.filter((function(e){return e.x===t&&e.y===n}));return{x:t,y:n,withBomb:Boolean(a(t,n)),nearBombsCount:r.length?r[0].count:0,isOpened:!1,isMarked:!1,isHelper:!1}}))}))}},{key:"openSquare",value:function(e,t){var n=e.map((function(e){return e.map((function(e){return e}))})),r=n[t.y][t.x];return C(n,r),r.isOpened&&r.withBomb&&(n.forEach((function(e){return e.forEach((function(e){return e.isOpened=!0}))})),alert("\u0422\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b.")),n}},{key:"setMark",value:function(e,t){return t.isOpened?e:e.map((function(e){return e.map((function(e){return e.x!==t.x||e.y!==t.y||(e.isMarked||e.isHelper?e.isMarked&&!e.isHelper?e=Object(m.a)(Object(m.a)({},e),{},{isMarked:!1,isHelper:!0}):!e.isMarked&&e.isHelper&&(e=Object(m.a)(Object(m.a)({},e),{},{isHelper:!1})):e=Object(m.a)(Object(m.a)({},e),{},{isMarked:!0})),e}))}))}},{key:"tryOpenNearSquares",value:function(e,t){var n=!1;if(y(e,t,(function(e){n||e.isOpened||e.isMarked||e.withBomb&&(n=!0)})),n)return e;var r=e.map((function(e){return e.map((function(e){return e}))}));return y(r,t,(function(e){e.isOpened||e.isMarked||(e.isOpened=!0)})),r}},{key:"logBoard",value:function(e){console.log(e.map((function(e){return e.map((function(e){return e.withBomb?"Q":e.nearBombsCount?e.nearBombsCount+"":" "}))})))}}]),e}();function C(e,t){t.isOpened||t.isMarked||(t.isOpened=!0,t.withBomb||t.nearBombsCount||y(e,t,(function(t){return C(e,t)})))}function y(e,t,n){for(var r=t.x,a=t.y,i=-1;i<=1;i++)for(var o=-1;o<=1;o++)if(e[a+i]&&e[a+i][r+o]){var c=e[a+i][r+o];c&&(c.x===r&&c.y===a||n(c))}}n(19);var x=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleLeftClick=function(e){r.setState({board:v.openSquare(r.state.board,e)})},r.handleRightClick=function(e){r.setState({board:v.setMark(r.state.board,e)})},r.handleBothClick=function(e){r.setState({board:v.tryOpenNearSquares(r.state.board,e)})},r.state={board:v.initBoard(+r.props.width,+r.props.height,+r.props.bombsCount)},v.logBoard(r.state.board),r}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(k,{data:this.state.board,onLeftClick:this.handleLeftClick,onRightClick:this.handleRightClick,onBothClick:this.handleBothClick})})}}]),n}(a.a.Component),M={Hello:b,Fox:f,Mineswepper:function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)(x,{width:"9",height:"9",bombsCount:"10"})}}]),n}(a.a.Component)},B=Object.keys(M),g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=M[this.props.id];return e?Object(p.jsx)(e,{}):null}}]),n}(a.a.Component),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={id:""},r.handleMenuItemClick=r.handleMenuItemClick.bind(Object(u.a)(r)),r}return Object(s.a)(n,[{key:"handleMenuItemClick",value:function(e){this.state.id!==e&&this.setState({id:e})}},{key:"render",value:function(){var e=this.state.id;return Object(p.jsxs)("div",{children:[Object(p.jsx)(d,{ids:B,onItemClick:this.handleMenuItemClick}),Object(p.jsx)(g,{id:e})]})}}]),n}(a.a.Component);o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.fa06f79a.chunk.js.map