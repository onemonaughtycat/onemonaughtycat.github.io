{"version":3,"sources":["Menu.js","pages/Hello.js","pages/Fox.js","pages/Minesweeper/Icons.js","pages/Minesweeper/Square.js","pages/Minesweeper/Board.js","pages/Minesweeper/Status.js","pages/Minesweeper/Logic.js","pages/Minesweeper/Game.js","pages/index.js","pages/Minesweeper/index.js","Page.js","App.js","index.js"],"names":["Menu","props","state","selected","handleClick","bind","e","i","target","parentNode","children","length","this","setState","onItemClick","outerText","ids","map","id","className","onClick","React","Component","Hello","Fox","Icons","bomb","mark","helper","exploded","Square","handleContextMenu","preventDefault","handleMouseDown","_buttons","buttons","handleMouseUp","onLeftClick","onRightClick","onBothClick","value","isOpened","push","withBomb","nearBombsCount","isMarked","isHelper","join","onContextMenu","onMouseDown","onMouseUp","Board","handleLeftClick","square","handleRightClick","handleBothClick","data","row","y","x","Status","IsLose","IsWin","Logic","width","height","bombsCount","bombs","isBomb","filter","Math","floor","random","nearBombs","count","dy","dx","board","Array","fill","_","filtered","cell","Boolean","console","log","logBoard","boardState","currSquare","sqr","openSquareRec","status","getStatus","forEach","isBombsNear","doWithNearSquares","isWin","callback","Game","initBoard","openSquare","callbackGameOver","setMark","tryOpenNearSquares","onGameOver","pages","handleGameOver","alert","Object","keys","Page","SomePage","App","handleMenuItemClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kTAGqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,MAAQ,CAAEC,UAAW,GAE1B,EAAKC,YAAc,EAAKA,YAAYC,KAAjB,gBALF,E,+CAQnB,SAAYC,GACV,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAEE,OAAOC,WAAWC,SAASC,OAAQJ,IACnDD,EAAEE,SAAWF,EAAEE,OAAOC,WAAWC,SAASH,IAC5CK,KAAKC,SAAS,CAAEV,SAAUI,IAE9BK,KAAKX,MAAMa,YAAYR,EAAEE,OAAOO,a,oBAGlC,WAAU,IAAD,OACDC,EAAMJ,KAAKX,MAAMe,IAAIC,KAAI,SAACC,EAAIX,GAClC,IAAIY,EAAY,mBAKhB,OAHIZ,IAAM,EAAKL,MAAMC,WACnBgB,GAAa,aAER,oBAAYA,UAAWA,EAAWC,QAAS,EAAKhB,YAAhD,SAA8Dc,GAArDX,MAGlB,OACE,qBAAKY,UAAU,sBAAf,SACE,oBAAIA,UAAU,wBAAd,SAAuCH,U,GA7BbK,IAAMC,WCDnBC,E,4JACnB,WACE,OAAO,mD,GAFwBF,IAAMC,WCApBE,E,4JACnB,WACE,OAAO,uF,GAFsBH,IAAMC,WCKxBG,EAPD,CACZC,KAAM,eACNC,KAAM,SACNC,OAAQ,SACRC,SAAU,gBCCSC,G,kNACnBC,kBAAoB,SAAAzB,GAClBA,EAAE0B,kB,EASJC,gBAAkB,SAAA3B,GAChB,EAAK4B,SAAW5B,EAAE6B,S,EAGpBC,cAAgB,SAAA9B,GACd,GAAK,EAAK4B,SAAV,CAEA,OAAQ,EAAKA,UACX,KAAK,EACH,EAAKjC,MAAMoC,YAAY,EAAKpC,OAC5B,MACF,KAAK,EACH,EAAKA,MAAMqC,aAAa,EAAKrC,OAC7B,MACF,KAAK,EACH,EAAKA,MAAMsC,YAAY,EAAKtC,OAMhC,EAAKiC,SAAW,O,4CAGlB,WACE,IAAMf,EAAY,CAAC,UACfqB,EAAQ,GAoBZ,OAlBI5B,KAAKX,MAAMwC,UACbtB,EAAUuB,KAAK,UAEX9B,KAAKX,MAAM0C,WACbH,EAAQf,EAAMC,MAEZd,KAAKX,MAAM2C,iBACbJ,EAAQ5B,KAAKX,MAAM2C,eACnBzB,EAAUuB,KAAK,aAGb9B,KAAKX,MAAM4C,WACbL,EAAQf,EAAME,MAEZf,KAAKX,MAAM6C,WACbN,EAAQf,EAAMG,SAIhB,qBACET,UAAWA,EAAU4B,KAAK,KAC1BC,cAAepC,KAAKmB,kBACpBkB,YAAarC,KAAKqB,gBAClBiB,UAAWtC,KAAKwB,cAJlB,SAMGI,Q,GAhE2BnB,IAAMC,YCArB6B,G,kNACnBC,gBAAkB,SAAAC,GAChB,EAAKpD,MAAMoC,YAAYgB,I,EAGzBC,iBAAmB,SAAAD,GACjB,EAAKpD,MAAMqC,aAAae,I,EAG1BE,gBAAkB,SAAAF,GAChB,EAAKpD,MAAMsC,YAAYc,I,4CAGzB,WAAU,IAAD,OACP,OACE,qBAAKlC,UAAU,QAAf,SACGP,KAAKX,MAAMuD,KAAKvC,KAAI,SAACwC,EAAKC,GAAN,OACnB,8BACGD,EAAIxC,KAAI,SAACoC,EAAQM,GAAT,OACP,cAAC,EAAD,CAEEA,EAAGN,EAAOM,EACVD,EAAGL,EAAOK,EACVf,SAAUU,EAAOV,SACjBC,eAAgBS,EAAOT,eACvBH,SAAUY,EAAOZ,SACjBI,SAAUQ,EAAOR,SACjBC,SAAUO,EAAOP,SACjBT,YAAa,EAAKe,gBAClBd,aAAc,EAAKgB,iBACnBf,YAAa,EAAKgB,iBAVbI,OAHDD,Y,GAjBerC,IAAMC,Y,OCK1BsC,EALA,CACbC,OAAQ,EACRC,MAAO,GCSYC,E,8FAQnB,SAAiBC,EAAOC,EAAQC,GAM9B,IAHA,IAAMC,EAAQ,GACRC,EAAS,SAACT,EAAGD,GAAJ,OAAUS,EAAME,QAAO,SAAA3C,GAAI,OAAIA,EAAKiC,IAAMA,GAAKjC,EAAKgC,IAAMA,KAAG/C,QAEnEJ,EAAI,EAAGA,EAAI2D,EAAY3D,IAAK,CACnC,IAAMoD,EAAIW,KAAKC,MAAMD,KAAKE,SAAWR,GAC/BN,EAAIY,KAAKC,MAAMD,KAAKE,SAAWP,GAEjCG,EAAOT,EAAGD,GACZnD,IAEA4D,EAAMzB,KAAK,CAAEiB,IAAGD,MAOpB,IAFA,IAAMe,EAAY,GAETf,EAAI,EAAGA,EAAIO,EAAQP,IAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAIK,EAAOL,IACzB,IAAIS,EAAOT,EAAGD,GAAd,CAIA,IAFA,IAAIgB,EAAQ,EAEHC,GAAM,EAAGA,GAAM,EAAGA,IACzB,IAAK,IAAIC,GAAM,EAAGA,GAAM,EAAGA,IACrBR,EAAOT,EAAIiB,EAAIlB,EAAIiB,IACrBD,IAEFA,GACFD,EAAU/B,KAAK,CAAEiB,IAAGD,IAAGgB,UAM7B,IAAMG,EAAQC,MAAMb,GAAQc,OACzB9D,KAAI,SAAC+D,EAAGtB,GAAJ,OAAUoB,MAAMd,GAAOe,OACzB9D,KAAI,SAAC+D,EAAGrB,GACP,IAAMsB,EAAWR,EAAUJ,QAAO,SAAAa,GAAI,OAAIA,EAAKvB,IAAMA,GAAKuB,EAAKxB,IAAMA,KAErE,MAAO,CACLC,IAAGD,IACHf,SAAUwC,QAAQf,EAAOT,EAAGD,IAC5Bd,eAAgBqC,EAAStE,OAASsE,EAAS,GAAGP,MAAQ,EACtDjC,UAAU,EACVI,UAAU,SAOlB,OAFAuC,QAAQC,IAAItB,EAAMuB,SAAST,IAEpBA,I,wBAeT,SAAkBU,EAAYC,GAC5B,IAAMX,EAAQU,EAAWtE,KAAI,SAAAwC,GAAG,OAAIA,EAAIxC,KAAI,SAAAwE,GAAG,OAAIA,QAC7CpC,EAASwB,EAAMW,EAAW9B,GAAG8B,EAAW7B,GAE9C+B,EAAcb,EAAOxB,GAErB,IAAMsC,EAAS5B,EAAM6B,UAAUf,EAAOxB,GAKtC,OAHIsC,IAAW/B,EAAOC,QACpBgB,EAAMgB,SAAQ,SAAApC,GAAG,OAAIA,EAAIoC,SAAQ,SAAAJ,GAAG,OAAIA,EAAIhD,UAAW,QAElD,CAAEoC,QAAOc,Y,qBASlB,SAAeJ,EAAYC,GACzB,GAAIA,EAAW/C,SACb,OAAO8C,EAET,IAAMV,EAAQU,EAAWtE,KAAI,SAAAwC,GAAG,OAAIA,EAAIxC,KAAI,SAAAwE,GAAG,OAAIA,QAC7CpC,EAASwB,EAAMW,EAAW9B,GAAG8B,EAAW7B,GAI9C,OAFAN,EAAOR,UAAY2C,EAAW3C,SAEvB,CAAEgC,QAAOc,OAAQ5B,EAAM6B,UAAUf,EAAOxB,M,gCASjD,SAA0BkC,EAAYC,GACpC,IAAIM,GAAc,EAWlB,GATAC,EAAkBR,EAAYC,GAAY,SAAAnC,GACpCyC,GAEAzC,EAAOZ,UAAYY,EAAOR,UAE1BQ,EAAOV,WACTmD,GAAc,MAGdA,EACF,MAAO,CAAEjB,MAAOU,EAAYI,OAAQ5B,EAAM6B,UAAUL,EAAYC,IAElE,IAAMX,EAAQU,EAAWtE,KAAI,SAAAwC,GAAG,OAAIA,EAAIxC,KAAI,SAAAwE,GAAG,OAAIA,QAQnD,OANAM,EAAkBlB,EAAOW,GAAY,SAAAnC,GAC/BA,EAAOZ,UAAYY,EAAOR,WAE9BQ,EAAOZ,UAAW,MAGb,CAAEoC,QAAOc,OAAQ5B,EAAM6B,UAAUf,EAAOW,M,uBASjD,SAAiBD,EAAYC,GAC3B,IADuC,EACnCQ,GAAQ,EAD2B,cAGrBT,GAHqB,IAGvC,2BAA8B,CAAC,IAAD,EAAnB9B,EAAmB,sBACPA,GADO,IAC5B,gCAAWJ,EAAX,QACMA,EAAOV,WAAaU,EAAOR,WAC7BmD,GAAQ,IAHgB,8BAK5B,IAAKA,EACH,OATmC,8BAcvC,OAFeR,EAAW/C,UAAY+C,EAAW7C,SAEjCiB,EAAOC,OAASmC,EAAQpC,EAAOE,MAAQ,I,sBAOzD,SAAgByB,GACdH,QAAQC,IACNE,EAAWtE,KAAI,SAAAwC,GAAG,OAChBA,EAAIxC,KAAI,SAAAoC,GAAM,OACZA,EAAOV,SAAW,IAAMU,EAAOT,eAAiBS,EAAOT,eAAiB,GAAK,e,KAYvF,SAAS8C,EAAcH,EAAYC,GAC7BA,EAAW/C,UAAY+C,EAAW3C,WAGtC2C,EAAW/C,UAAW,EAElB+C,EAAW7C,UAAY6C,EAAW5C,gBAGtCmD,EAAkBR,EAAYC,GAAY,SAAAnC,GAAM,OAAIqC,EAAcH,EAAYlC,OAchF,SAAS0C,EAAkBR,EAAYC,EAAYS,GAIjD,IAHA,IAAMtC,EAAI6B,EAAW7B,EACfD,EAAI8B,EAAW9B,EAEZiB,GAAM,EAAGA,GAAM,EAAGA,IACzB,IAAK,IAAIC,GAAM,EAAGA,GAAM,EAAGA,IACzB,GAAMW,EAAW7B,EAAIiB,IAAOY,EAAW7B,EAAIiB,GAAIhB,EAAIiB,GAAnD,CAEA,IAAMvB,EAASkC,EAAW7B,EAAIiB,GAAIhB,EAAIiB,GAEjCvB,IACDA,EAAOM,IAAMA,GAAKN,EAAOK,IAAMA,GAEnCuC,EAAS5C,K,UCrOM6C,E,4MACnBhG,MAAQ,CACN2E,MAAOd,EAAMoC,WAAW,EAAKlG,MAAM+D,OAAQ,EAAK/D,MAAMgE,QAAS,EAAKhE,MAAMiE,a,EAG5Ed,gBAAkB,SAAAC,GAAW,IAAD,EACAU,EAAMqC,WAAW,EAAKlG,MAAM2E,MAAOxB,GAArDwB,EADkB,EAClBA,MAAOc,EADW,EACXA,OACf,EAAK9E,SAAS,CAAEgE,UAAS,kBAAM,EAAKwB,iBAAiBV,O,EAGvDrC,iBAAmB,SAAAD,GAAW,IAAD,EACDU,EAAMuC,QAAQ,EAAKpG,MAAM2E,MAAOxB,GAAlDwB,EADmB,EACnBA,MAAOc,EADY,EACZA,OACf,EAAK9E,SAAS,CAAEgE,UAAS,kBAAM,EAAKwB,iBAAiBV,O,EAGvDpC,gBAAkB,SAAAF,GAAW,IAAD,EACAU,EAAMwC,mBAAmB,EAAKrG,MAAM2E,MAAOxB,GAA7DwB,EADkB,EAClBA,MAAOc,EADW,EACXA,OACf,EAAK9E,SAAS,CAAEgE,UAAS,kBAAM,EAAKwB,iBAAiBV,O,sDAGvD,SAAiBA,GACXA,GACF/E,KAAKX,MAAMuG,WAAWb,IAAW/B,EAAOE,S,oBAG5C,WACE,OACE,qBAAK3C,UAAU,YAAf,SACE,cAAC,EAAD,CACEqC,KAAM5C,KAAKV,MAAM2E,MACjBxC,YAAazB,KAAKwC,gBAClBd,aAAc1B,KAAK0C,iBACnBf,YAAa3B,KAAK2C,wB,GAhCMlC,IAAMC,WCJlCmF,EAAQ,CACZ,MAASlF,EACT,IAAOC,EACP,Y,4MCHAkF,eAAiB,SAAAV,GACfW,MAAMX,EAAQ,0DAAe,8E,4CAG/B,WACE,OAAO,cAAC,EAAD,CAAMhC,MAAM,IAAIC,OAAO,IAAIC,WAAW,KAAKsC,WAAY5F,KAAK8F,qB,GAN9BrF,IAAMC,YDOzCN,EAAM4F,OAAOC,KAAKJ,GEPHK,E,4JACnB,WACE,IAAMC,EAAWN,EAAM7F,KAAKX,MAAMiB,IAElC,OAAK6F,EAGE,cAACA,EAAD,IAFE,S,GALqB1F,IAAMC,WCEnB0F,E,kDACnB,WAAY/G,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,MAAQ,CAAEgB,GAAI,IAEnB,EAAK+F,oBAAsB,EAAKA,oBAAoB5G,KAAzB,gBALV,E,uDAQnB,SAAoBa,GACdN,KAAKV,MAAMgB,KAAOA,GACpBN,KAAKC,SAAS,CAAEK,S,oBAGpB,WACE,IAAMA,EAAKN,KAAKV,MAAMgB,GAEtB,OACE,gCACE,cAAC,EAAD,CAAMF,IAAKA,EAAKF,YAAaF,KAAKqG,sBAClC,cAAC,EAAD,CAAM/F,GAAIA,W,GApBeG,IAAMC,WCAvC4F,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.4fc79aae.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Menu.css';\r\n\r\nexport default class Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { selected: -1 };\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(e) {\r\n    for (let i = 0; i < e.target.parentNode.children.length; i++)\r\n      if (e.target === e.target.parentNode.children[i])\r\n        this.setState({ selected: i });\r\n\r\n    this.props.onItemClick(e.target.outerText);\r\n  }\r\n\r\n  render() {\r\n    const ids = this.props.ids.map((id, i) => {\r\n      let className = 'system-menu-item';\r\n\r\n      if (i === this.state.selected)\r\n        className += ' selected';\r\n\r\n      return <li key={i} className={className} onClick={this.handleClick}>{id}</li>\r\n    });\r\n\r\n    return (\r\n      <div className=\"system-menu-wrapper\">\r\n        <ul className=\"system-menu-container\">{ids}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Hello extends React.Component {\r\n  render() {\r\n    return <h1>Hello, world!</h1>;\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Fox extends React.Component {\r\n  render() {\r\n    return <blockquote>The quick brown fox jump over a lazy dog.</blockquote>;\r\n  }\r\n}\r\n","const Icons = {\r\n  bomb: 'üí£',\r\n  mark: '‚ùï',\r\n  helper: '‚ùî',\r\n  exploded: 'üí•',\r\n}\r\n\r\nexport default Icons;","import React from 'react';\r\nimport Icons from \"./Icons\";\r\n\r\nimport './Square.css';\r\n\r\nexport default class Square extends React.Component {\r\n  handleContextMenu = e => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  /* –ù–∞–∂–∞—Ç–∏–µ –õ–ö–ú –∏ –ü–ö–ú –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è —è—á–µ–µ–∫.\r\n   * –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ onMouseDown –∏ onMouseUp —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ:\r\n   * –µ—Å–ª–∏ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –æ–¥–Ω–∞ –∏–∑ –∫–Ω–æ–ø–æ–∫ (1 - –õ–ö–ú, 2 - –ü–ö–ú), —Ç–æ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–æ —Å–æ–±—ã—Ç–∏–µ –æ–¥–Ω–æ–π –∏–∑ —ç—Ç–∏—Ö –∫–Ω–æ–ø–æ–∫,\r\n   * –∏–Ω–∞—á–µ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –Ω–∞–∂–∞—Ç–∏–µ –¥–≤—É—Ö –∫–Ω–æ–ø–æ–∫ (3).\r\n   * –ì—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, –∏–≥—Ä–æ–∫ –Ω–µ –ø—Ä–æ–∏–≥—Ä–∞–µ—Ç, –µ—Å–ª–∏ –¥–∞–∂–µ —Å–ª—É—á–∞–π–Ω–æ –Ω–∞–∂–º–µ—Ç –æ–±–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–ª–µ—Ç–∫—É, –≥–¥–µ –µ—Å—Ç—å –±–æ–º–±–∞. */\r\n\r\n  handleMouseDown = e => {\r\n    this._buttons = e.buttons;\r\n  }\r\n\r\n  handleMouseUp = e => {\r\n    if (!this._buttons) return;\r\n\r\n    switch (this._buttons) {\r\n      case 1:\r\n        this.props.onLeftClick(this.props);\r\n        break;\r\n      case 2:\r\n        this.props.onRightClick(this.props);\r\n        break;\r\n      case 3:\r\n        this.props.onBothClick(this.props);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this._buttons = null;\r\n  }\r\n\r\n  render() {\r\n    const className = ['square'];\r\n    let value = '';\r\n\r\n    if (this.props.isOpened) {\r\n      className.push('opened');\r\n\r\n      if (this.props.withBomb)\r\n        value = Icons.bomb;\r\n\r\n      if (this.props.nearBombsCount) {\r\n        value = this.props.nearBombsCount;\r\n        className.push('number');\r\n      }\r\n    } else {\r\n      if (this.props.isMarked)\r\n        value = Icons.mark;\r\n\r\n      if (this.props.isHelper)\r\n        value = Icons.helper;\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={className.join(' ')}\r\n        onContextMenu={this.handleContextMenu}\r\n        onMouseDown={this.handleMouseDown}\r\n        onMouseUp={this.handleMouseUp}\r\n      >\r\n        {value}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Square from './Square';\r\n\r\nimport './Board.css';\r\n\r\nexport default class Board extends React.Component {\r\n  handleLeftClick = square => {\r\n    this.props.onLeftClick(square);\r\n  }\r\n\r\n  handleRightClick = square => {\r\n    this.props.onRightClick(square);\r\n  }\r\n\r\n  handleBothClick = square => {\r\n    this.props.onBothClick(square);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"board\">\r\n        {this.props.data.map((row, y) => (\r\n          <div key={y}>\r\n            {row.map((square, x) => (\r\n              <Square\r\n                key={x}\r\n                x={square.x}\r\n                y={square.y}\r\n                withBomb={square.withBomb}\r\n                nearBombsCount={square.nearBombsCount}\r\n                isOpened={square.isOpened}\r\n                isMarked={square.isMarked}\r\n                isHelper={square.isHelper}\r\n                onLeftClick={this.handleLeftClick}\r\n                onRightClick={this.handleRightClick}\r\n                onBothClick={this.handleBothClick}\r\n              />\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/**\r\n * –°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã \"–°–∞–ø–µ—Ä\"\r\n * @readonly\r\n * @enum {number}\r\n */\r\nconst Status = {\r\n  IsLose: 1,\r\n  IsWin: 2,\r\n}\r\n\r\nexport default Status;\r\n","import Status from \"./Status\";\r\n\r\n/**\r\n * @typedef BoardState –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n * @property {number} x –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X\r\n * @property {number} y –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y\r\n * @property {boolean} withBomb –Ø—á–µ–π–∫–∞ —Å –±–æ–º–±–æ–π\r\n * @property {number} nearBombsCount –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ–º–± —Ä—è–¥–æ–º —Å —è—á–µ–π–∫–æ–π\r\n * @property {boolean} isOpened –Ø—á–µ–π–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∞\r\n * @property {boolean} isMarked –Ø—á–µ–π–∫–∞ –ø–æ–º–µ—á–µ–Ω–∞ –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ –±–æ–º–±—ã\r\n * @property {boolean} isHelper\r\n */\r\n\r\n/**\r\n * –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã \"–°–∞–ø–µ—Ä\"\r\n */\r\nexport default class Logic {\r\n  /**\r\n   * –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   * @param {number} width –®–∏—Ä–∏–Ω–∞ –ø–æ–ª—è\r\n   * @param {number} height –í—ã—Å–æ—Ç–∞ –ø–æ–ª—è\r\n   * @param {number} bombsCount –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ–º–± –Ω–∞ –ø–æ–ª–µ\r\n   * @returns {BoardState[][]} –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   */\r\n  static initBoard(width, height, bombsCount) {\r\n    /* –†–∞—Å—Å—Ç–∞–≤–ª—è–µ–º –±–æ–º–±—ã. */\r\n\r\n    const bombs = [];\r\n    const isBomb = (x, y) => bombs.filter(bomb => bomb.x === x && bomb.y === y).length;\r\n\r\n    for (let i = 0; i < bombsCount; i++) {\r\n      const x = Math.floor(Math.random() * width);\r\n      const y = Math.floor(Math.random() * height);\r\n\r\n      if (isBomb(x, y))\r\n        i--;\r\n      else\r\n        bombs.push({ x, y });\r\n    }\r\n\r\n    /* –ü–æ–º–µ—á–∞–µ–º –¥–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏ —Å–∫–æ–ª—å–∫–æ —Ä—è–¥–æ–º —Å –Ω–µ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–æ–º–±. */\r\n\r\n    const nearBombs = [];\r\n\r\n    for (let y = 0; y < height; y++) {\r\n      for (let x = 0; x < width; x++) {\r\n        if (isBomb(x, y)) continue;\r\n\r\n        let count = 0;\r\n\r\n        for (let dy = -1; dy <= 1; dy++)\r\n          for (let dx = -1; dx <= 1; dx++)\r\n            if (isBomb(x - dx, y - dy))\r\n              count++;\r\n\r\n        if (count)\r\n          nearBombs.push({ x, y, count });\r\n      }\r\n    }\r\n\r\n    /* –°–æ–∑–¥–∞–µ–º –ø–æ–ª–µ. */\r\n\r\n    const board = Array(height).fill()\r\n      .map((_, y) => Array(width).fill()\r\n        .map((_, x) => {\r\n          const filtered = nearBombs.filter(cell => cell.x === x && cell.y === y);\r\n\r\n          return {\r\n            x, y,\r\n            withBomb: Boolean(isBomb(x, y)),\r\n            nearBombsCount: filtered.length ? filtered[0].count : 0,\r\n            isOpened: false,\r\n            isMarked: false,\r\n          };\r\n        })\r\n      );\r\n\r\n    console.log(Logic.logBoard(board));\r\n\r\n    return board;\r\n  }\r\n\r\n  /**\r\n   * @typedef ReturnObject\r\n   * @property {BoardState[][]} board –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   * @property {Status} status –°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã\r\n   */\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã—Ç—å —è—á–µ–π–∫—É –∏, –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä—è–¥–æ–º —Å –Ω–µ–π, –µ—Å–ª–∏ –æ–Ω–∏ –ø—É—Å—Ç—ã–µ.\r\n   * @param {BoardState[][]} boardState –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   * @param {BoardState} currSquare –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞\r\n   * @returns {ReturnObject} –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è –∏ —Å—Ç–∞—Ç—É—Å –∏–≥—Ä—ã\r\n   */\r\n  static openSquare(boardState, currSquare) {\r\n    const board = boardState.map(row => row.map(sqr => sqr));\r\n    const square = board[currSquare.y][currSquare.x];\r\n\r\n    openSquareRec(board, square);\r\n\r\n    const status = Logic.getStatus(board, square);\r\n\r\n    if (status === Status.IsLose)\r\n      board.forEach(row => row.forEach(sqr => sqr.isOpened = true));\r\n\r\n    return { board, status };\r\n  }\r\n\r\n  /**\r\n   * –ü–æ—Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ —Å–Ω—è—Ç—å –º–µ—Ç–∫—É –Ω–∞ –∑–∞–∫—Ä—ã—Ç—É—é —è—á–µ–π–∫—É (\"!\" –∏–ª–∏ \"?\").\r\n   * @param {BoardState[][]} boardState –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   * @param {BoardState} currSquare –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞\r\n   * @returns {ReturnObject} –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   */\r\n  static setMark(boardState, currSquare) {\r\n    if (currSquare.isOpened)\r\n      return boardState;\r\n\r\n    const board = boardState.map(row => row.map(sqr => sqr));\r\n    const square = board[currSquare.y][currSquare.x];\r\n\r\n    square.isMarked = !currSquare.isMarked;\r\n\r\n    return { board, status: Logic.getStatus(board, square) };\r\n  }\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã—Ç—å —Å–æ—Å–µ–¥–Ω–∏–µ —è—á–µ–π–∫–∏, –µ—Å–ª–∏ —Å—Ä–µ–¥–∏ –Ω–∏—Ö –Ω–µ—Ç –±–æ–º–±.\r\n   * @param {BoardState[][]} boardState –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   * @param {BoardState} currSquare –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞\r\n   * @returns {ReturnObject} –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   */\r\n  static tryOpenNearSquares(boardState, currSquare) {\r\n    let isBombsNear = false; \r\n\r\n    doWithNearSquares(boardState, currSquare, square => {\r\n      if (isBombsNear) return;\r\n\r\n      if (square.isOpened || square.isMarked) return;\r\n\r\n      if (square.withBomb)\r\n        isBombsNear = true;\r\n    });\r\n\r\n    if (isBombsNear)\r\n      return { board: boardState, status: Logic.getStatus(boardState, currSquare) };\r\n\r\n    const board = boardState.map(row => row.map(sqr => sqr));\r\n\r\n    doWithNearSquares(board, currSquare, square => {\r\n      if (square.isOpened || square.isMarked) return;\r\n\r\n      square.isOpened = true;\r\n    });\r\n\r\n    return { board, status: Logic.getStatus(board, currSquare) };\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–≥—Ä—ã\r\n   * @param {BoardState[][]} boardState –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   * @param {BoardState} currSquare –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞\r\n   * @returns {Status} –°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã\r\n   */\r\n  static getStatus(boardState, currSquare) {\r\n    let isWin = true;\r\n\r\n    for (const row of boardState) {\r\n      for (const square of row)\r\n        if (square.withBomb && !square.isMarked)\r\n          isWin = false;\r\n\r\n      if (!isWin)\r\n        break;\r\n    }\r\n\r\n    const isLose = currSquare.isOpened && currSquare.withBomb;\r\n\r\n    return isLose ? Status.IsLose : isWin ? Status.IsWin : 0;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –±–æ–º–± –Ω–∞ –ø–æ–ª–µ.\r\n   * @param {BoardState[][]} boardState –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n   */\r\n  static logBoard(boardState) {\r\n    console.log(\r\n      boardState.map(row => (\r\n        row.map(square => (\r\n          square.withBomb ? 'Q' : square.nearBombsCount ? square.nearBombsCount + '' : ' '\r\n        ))\r\n      ))\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * –° –ø–æ–º–æ—â—å—é —Ä–µ–∫—É—Ä—Å–∏–∏ –æ—Ç–∫—Ä—ã—Ç—å –≤—Å–µ –ø—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–æ —è—á–µ–µ–∫ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä—è–¥–æ–º –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –±–æ–º–±.\r\n * @param {BoardState[][]} boardState –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n * @param {BoardState} currSquare –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞\r\n */\r\nfunction openSquareRec(boardState, currSquare) {\r\n  if (currSquare.isOpened || currSquare.isMarked)\r\n    return;\r\n\r\n  currSquare.isOpened = true;\r\n\r\n  if (currSquare.withBomb || currSquare.nearBombsCount)\r\n    return;\r\n\r\n  doWithNearSquares(boardState, currSquare, square => openSquareRec(boardState, square));\r\n};\r\n\r\n/**\r\n * @callback nearSquareCallback\r\n * @param {BoardState} square –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞\r\n */\r\n\r\n/**\r\n * –°–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ —Å –±–ª–∏–∂–∞–π—à–∏–º–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —è—á–µ–π–∫–∞–º–∏ \r\n * @param {BoardState[][]} boardState –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è\r\n * @param {BoardState} currSquare –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞\r\n * @param {nearSquareCallback} callback –ö–æ–ª–±—ç–∫\r\n */\r\nfunction doWithNearSquares(boardState, currSquare, callback) {\r\n  const x = currSquare.x;\r\n  const y = currSquare.y;\r\n\r\n  for (let dy = -1; dy <= 1; dy++)\r\n    for (let dx = -1; dx <= 1; dx++) {\r\n      if (!(boardState[y + dy] && boardState[y + dy][x + dx])) continue;\r\n\r\n      const square = boardState[y + dy][x + dx];\r\n\r\n      if (!square) continue;\r\n      if (square.x === x && square.y === y) continue;\r\n\r\n      callback(square);\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Board from './Board';\r\n\r\nimport Logic from \"./Logic\";\r\nimport Status from \"./Status\";\r\n\r\nimport './Game.css';\r\n\r\nexport default class Game extends React.Component {\r\n  state = {\r\n    board: Logic.initBoard(+this.props.width, +this.props.height, +this.props.bombsCount),\r\n  }\r\n\r\n  handleLeftClick = square => {\r\n    const { board, status } = Logic.openSquare(this.state.board, square);\r\n    this.setState({ board }, () => this.callbackGameOver(status));\r\n  }\r\n\r\n  handleRightClick = square => {\r\n    const { board, status } = Logic.setMark(this.state.board, square);\r\n    this.setState({ board }, () => this.callbackGameOver(status));\r\n  }\r\n\r\n  handleBothClick = square => {\r\n    const { board, status } = Logic.tryOpenNearSquares(this.state.board, square);\r\n    this.setState({ board }, () => this.callbackGameOver(status));\r\n  }\r\n\r\n  callbackGameOver(status) {\r\n    if (status)\r\n      this.props.onGameOver(status === Status.IsWin);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Board\r\n          data={this.state.board}\r\n          onLeftClick={this.handleLeftClick}\r\n          onRightClick={this.handleRightClick}\r\n          onBothClick={this.handleBothClick}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Hello from './Hello';\r\nimport Fox from './Fox';\r\nimport Minesweeper from './Minesweeper';\r\n\r\nconst pages = {\r\n  'Hello': Hello,\r\n  'Fox': Fox,\r\n  'Minesweeper': Minesweeper,\r\n};\r\n\r\nconst ids = Object.keys(pages);\r\n\r\nexport { pages, ids };\r\n","import React from 'react';\r\nimport Game from \"./Game\";\r\n\r\nexport default class Minesweeper extends React.Component {\r\n  handleGameOver = isWin => {\r\n    alert(isWin ? '–¢—ã –ø–æ–±–µ–¥–∏–ª' : '–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞');\r\n  }\r\n\r\n  render() {\r\n    return <Game width=\"9\" height=\"9\" bombsCount=\"10\" onGameOver={this.handleGameOver}/>;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { pages } from \"./pages\";\r\n\r\nexport default class Page extends React.Component {\r\n  render() {\r\n    const SomePage = pages[this.props.id];\r\n\r\n    if (!SomePage)\r\n      return null;\r\n\r\n    return <SomePage/>;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Menu from './Menu';\r\nimport Page from './Page';\r\nimport { ids } from \"./pages\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { id: '' };\r\n\r\n    this.handleMenuItemClick = this.handleMenuItemClick.bind(this);\r\n  }\r\n\r\n  handleMenuItemClick(id) {\r\n    if (this.state.id !== id)\r\n      this.setState({ id });\r\n  }\r\n\r\n  render() {\r\n    const id = this.state.id;\r\n\r\n    return (\r\n      <div>\r\n        <Menu ids={ids} onItemClick={this.handleMenuItemClick}/>\r\n        <Page id={id}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}